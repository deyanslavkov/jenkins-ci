# Jenkins Continuous Integration Project

## Проект за непрекъсната интеграция с Jenkins

Този проект демонстрира процес по автоматизирана интеграция (CI) с помощта на Jenkins, GitHub и уеб приложение, написано с Node.js.

## Стек и използвани технологии

- Операционна система: Linux (Ubuntu Server във виртуална машина)
- Jenkins (инсталиран локално)
- Node.js (Express приложение)
- Git и GitHub
- PM2 (за стартиране и управление на приложението)
- Ngrok (за осъществяване на webhook комуникация с GitHub)
- Jenkinsfile (pipeline конфигурация)

## Основни стъпки по реализацията

1. **Създаване на виртуална машина**
   - Инсталирана е Ubuntu Server
   - Настроена е мрежа с достъп от хост машината

2. **Инсталиране на необходимите инструменти**
   - Java 11+
   - Git
   - Node.js и npm
   - PM2
   - Jenkins

3. **Инсталиране и конфигуриране на Jenkins**
   - Добавен е pipeline project
   - Включен е GitHub webhook trigger
   - Jenkinsfile дефинира стъпките по build и deploy

4. **Изграждане на просто уеб приложение**
   - Node.js сървър с един маршрут (`/`) връща текст "Hello, Jenkins!"
   - Кодът е публикуван в GitHub: https://github.com/deyanslavkov/jenkins-ci

5. **Jenkins pipeline**
   - Checkout от GitHub
   - Инсталиране на зависимости (`npm install`)
   - Стартиране на приложението с pm2 при всеки нов push

6. **GitHub webhook**
   - Активиран чрез Ngrok
   - Всеки `push` автоматично стартира pipeline-а

## Структура на проекта

```
.
├── index.js          # Основен Node.js сървър
├── package.json      # npm конфигурация и зависимости
├── Jenkinsfile       # Конфигурация на Jenkins pipeline

````

## Jenkinsfile
При получаване на сигнал от гитхъб:
- Клонира се кодът
- Инсталират се зависимости с npm
- Рестартира се приложението с pm2
- Прави се тестов ping към деплойнатото приложение


## Тестване

1. При промяна в github репото той изпраща webhook към Jenkins чрез ngrok тунел.
2. Jenkins автоматично клонира кода, инсталира зависимости и рестартира приложението, след което прави test ping.
3. Приложението работи на `http://<VM_IP>:3000`.

## Допълнителни бележки

* Ngrok тунелът е временен – необходимо е да се стартира при всяко рестартиране на VM.
* PM2 осигурява лесно рестартиране и управление на Node.js приложението.
* Pipeline-ът може да бъде разширен с Docker контейнеризация.
